# coding: utf-8
event = {'Records': [{'EventSource': 'aws:sns', 'EventVersion': '1.0', 'EventSubscriptionArn': 'arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic:925ba993-c3c8-4b9f-a90e-06c27fe2c059', 'Sns': {'Type': 'Notification', 'MessageId': 'b58b6352-4cdd-5ad7-8a0e-344c15511abe', 'TopicArn': 'arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic', 'Subject': None, 'Message': '{"JobId":"17de00de2dcbe247c7a9ae3ee55b8e4b1db9cf00028ac411c70e8448f51e877e","Status":"SUCCEEDED","API":"StartLabelDetection","Timestamp":1587828556492,"Video":{"S3ObjectName":"Pexels Videos 4640.mp4","S3Bucket":"rajeshvideolyzer12345"}}', 'Timestamp': '2020-04-25T15:29:16.586Z', 'SignatureVersion': '1', 'Signature': 'Y1Aylar94qu1g/TFUOdLeiJOnnudBTcDNF8g0epWMiV+JXKegjx5nIcTD5a3hpol+yqLKkcCiCoHsRT3W15Zdkjupdl/kNcOk8k2kTWH10xogeYpoC7vD5D2OitloJOO5GBwKn5Vl7Bro+69Y5H9Jcep9BulwEhstw2O3RGbgnx+kTMgbMgG4n+zCyixZU2SpXpsRCbGXh/0HeLJAznuAYQZ95BhK89QBTk/JGi8FGEyAyGJTrFpTh/ko6gGO6gRte60LbudHNhvEVNg0JDUxi/c5ZD2jgCsu9mWYsgf1TjRmp9wY4QQyjM22BO4hP2X3I9MdnIYykYZKR+dK0/uCQ==', 'SigningCertUrl': 'https://sns.us-east-1.amazonaws.com/SimpleNotificationService-a86cb10b4e1f29c941702d737128f7b6.pem', 'UnsubscribeUrl': 'https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic:925ba993-c3c8-4b9f-a90e-06c27fe2c059', 'MessageAttributes': {}}}]}{'Records': [{'EventSource': 'aws:sns', 'EventVersion': '1.0', 'EventSubscriptionArn': 'arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic:925ba993-c3c8-4b9f-a90e-06c27fe2c059', 'Sns': {'Type': 'Notification', 'MessageId': 'b58b6352-4cdd-5ad7-8a0e-344c15511abe', 'TopicArn': 'arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic', 'Subject': None, 'Message': '{"JobId":"17de00de2dcbe247c7a9ae3ee55b8e4b1db9cf00028ac411c70e8448f51e877e","Status":"SUCCEEDED","API":"StartLabelDetection","Timestamp":1587828556492,"Video":{"S3ObjectName":"Pexels Videos 4640.mp4","S3Bucket":"rajeshvideolyzer12345"}}', 'Timestamp': '2020-04-25T15:29:16.586Z', 'SignatureVersion': '1', 'Signature': 'Y1Aylar94qu1g/TFUOdLeiJOnnudBTcDNF8g0epWMiV+JXKegjx5nIcTD5a3hpol+yqLKkcCiCoHsRT3W15Zdkjupdl/kNcOk8k2kTWH10xogeYpoC7vD5D2OitloJOO5GBwKn5Vl7Bro+69Y5H9Jcep9BulwEhstw2O3RGbgnx+kTMgbMgG4n+zCyixZU2SpXpsRCbGXh/0HeLJAznuAYQZ95BhK89QBTk/JGi8FGEyAyGJTrFpTh/ko6gGO6gRte60LbudHNhvEVNg0JDUxi/c5ZD2jgCsu9mWYsgf1TjRmp9wY4QQyjM22BO4hP2X3I9MdnIYykYZKR+dK0/uCQ==', 'SigningCertUrl': 'https://sns.us-east-1.amazonaws.com/SimpleNotificationService-a86cb10b4e1f29c941702d737128f7b6.pem', 'UnsubscribeUrl': 'https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic:925ba993-c3c8-4b9f-a90e-06c27fe2c059', 'MessageAttributes': {}}}]}
get_ipython().run_line_magic('cls', '')
event = {'Records': [{'EventSource': 'aws:sns', 'EventVersion': '1.0', 'EventSubscriptionArn': 'arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic:925ba993-c3c8-4b9f-a90e-06c27fe2c059', 'Sns': {'Type': 'Notification', 'MessageId': 'b58b6352-4cdd-5ad7-8a0e-344c15511abe', 'TopicArn': 'arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic', 'Subject': None, 'Message': '{"JobId":"17de00de2dcbe247c7a9ae3ee55b8e4b1db9cf00028ac411c70e8448f51e877e","Status":"SUCCEEDED","API":"StartLabelDetection","Timestamp":1587828556492,"Video":{"S3ObjectName":"Pexels Videos 4640.mp4","S3Bucket":"rajeshvideolyzer12345"}}', 'Timestamp': '2020-04-25T15:29:16.586Z', 'SignatureVersion': '1', 'Signature': 'Y1Aylar94qu1g/TFUOdLeiJOnnudBTcDNF8g0epWMiV+JXKegjx5nIcTD5a3hpol+yqLKkcCiCoHsRT3W15Zdkjupdl/kNcOk8k2kTWH10xogeYpoC7vD5D2OitloJOO5GBwKn5Vl7Bro+69Y5H9Jcep9BulwEhstw2O3RGbgnx+kTMgbMgG4n+zCyixZU2SpXpsRCbGXh/0HeLJAznuAYQZ95BhK89QBTk/JGi8FGEyAyGJTrFpTh/ko6gGO6gRte60LbudHNhvEVNg0JDUxi/c5ZD2jgCsu9mWYsgf1TjRmp9wY4QQyjM22BO4hP2X3I9MdnIYykYZKR+dK0/uCQ==', 'SigningCertUrl': 'https://sns.us-east-1.amazonaws.com/SimpleNotificationService-a86cb10b4e1f29c941702d737128f7b6.pem', 'UnsubscribeUrl': 'https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:893086265593:handleLabelDetectionTopic:925ba993-c3c8-4b9f-a90e-06c27fe2c059', 'MessageAttributes': {}}}]}
event.keys()
event['Records'][0]
event['Records'][0].keys()
event['Records'][0]['EventSource']
event['Records'][0]['EventVersion']
event['Records'][0]['EventSubscriptionArn']
event['Records'][0]['Sns']
event['Records'][0]['Sns']['Message']
import json
json.loads(event['Records'][0]['Sns']['Message'])
